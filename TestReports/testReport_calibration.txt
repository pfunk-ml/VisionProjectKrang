                TEST REPORT
        
            Project: Vision Krang
        Author: Nehchal J. (nehchal@gatech.edu)
                Jan 16, 2015

                   Draft

Conducted By: ___ Nehchal J. ___

OBJECTIVE

    To test the calibration procedure. Particularly,
        1. Effect of varying the distance of checkboard from camera on the calibration time.
        2. Effect of size of checkerboard pattern on calibration time.

    While calibrating, the program detects the checkerboard pattern from the video frame. The program may fail to detect pattern in some of the frames. This depends on the clarity of checkerboard patter in the frame, which depends upon size and distance of marker from camera. The program must do detection from specific number of frames before generating calibration file.

PROCEDURE

    1. Place the checkboard under the camera such that it is visible in the view of Cam0.
    2. Note down the distance D of checkerboard pattern from camera.
    3. Calibrate the camera using gCalib_count_max = 10 (this parameter can be set in runCalibration.cpp)
        $ cd to path/to/alvarCode
        $ make
        $ time ./bin/runCalibration 0
    4. Note down the down time it takes to calibrate. Use user time in the reported statistics by above program.
    5. Repeat above process 5 times.
    6. Repeat above steps for different values of D.
    7. Repeat above steps for different size of checkboard pattern.

OBSERVATIONS

    Camera: Logitech Webcam Pro 9000
    Checkerboard pattern can found in file: https://github.com/astanin/alvar/blob/master/doc/ALVAR.pdf (Page 9).

    Number of captures required for calibration = 10

    Checkerboard pattern
        Length of square edge = 2.2 cm
        Number of internal corners (rows) = 6
        Number of internal corners (cols) = 8

      +----------------+--------------------+
      | Dist (D) in cm |  Time (sec)        |
      |----------------+--------------------+
      |    170         |     15.17          |
      |    170         |    111.38          |
      |    170         |     14.81          |
      |    170         |     14.79          |
      |    170         |    135.94          |
      |    122         |      5.63          |
      |    122         |      5.69          |
      |    122         |      5.14          |
      |    122         |      5.11          |
      |    122         |      5.09          |
      +----------------+--------------------+
        Table 1: Distance from camera and 
          corresponding times taken for 
          calibration.

    Checkerboard pattern
        Length of square edge =  3 cm
        Number of internal corners (rows) = 6
        Number of internal corners (cols) = 8

      +----------------+--------------------+
      | Dist (D) in cm |  Time (sec)        |
      |----------------+--------------------+
      |    170         |      4.47          |
      |    170         |      5.53          |
      |    170         |      4.89          |
      |    170         |      5.14          |
      |    170         |      4.71          |
      |    122         |      3.96          |
      |    122         |      4.61          |
      |    122         |      5.20          |
      |    122         |      5.32          |
      |    122         |      4.56          |
      +----------------+--------------------+
        Table 2: Distance from camera and 
          corresponding times taken for 
          calibration.


    Note: Real time was much larger than user time (2 to 3 times). Real time is the actual time surpassed which takes into account time taken by other processes running on the computer as well.


RESULTS

    1. The time taken to calibrate varies widely across different attempts using same distance.
    2. As checkerboard pattern is moved closer to camera, the average time and variance decreases significantly. This is due the fact that image became more clearer when pattern was brought closer to camera.
    3. As checkboard pattern size is increased, the average time and variance decreases for larger distance. However time saturates as distance is decreases and doesn't decreases futher.

CONCLUSION
    
    For faster and more predictive calibration process, distance of checkboard from camera should be decreased. If that is not the option, then checkboard pattern should be at good enough height.

    For 'Logitech Webcam Pro 9000', checkerboard with edge of 3 cm is good enough at distance of 1.7 meters.
